$(document).ready(function(){var e={Etag:1,"Last-Modified":1,"Content-Length":1,"Content-Type":1},t={},n={},r={},i={},s=1e3,o=false,u={html:0,css:0,js:0,zul:1};var a={heartbeat:function(){if(zk("@page").$()){if(!o)a.loadresources();a.checkForChanges()}setTimeout(a.heartbeat,s)},loadresources:function(){function e(e){var t=document.location,n=new RegExp("^\\.|^/(?!/)|^[\\w]((?!://).)*$|"+t.protocol+"//"+t.host);return e.match(n)}var n=document.getElementsByTagName("script"),i=document.getElementsByTagName("link"),s=[];for(var f=0;f<n.length;f++){var l=n[f],c=l.getAttribute("src");if(c&&c.match(/\blive.js/)){var h=zk("@page").$().desktop;var p=h.contextURI;var d=h.requestPath;s.push(p+"/devZul/index?r="+d)}}if(u.html)s.push(document.location.href);for(var f=0;f<i.length&&u.css;f++){var v=i[f],m=v.getAttribute("rel"),g=v.getAttribute("href",2);if(g&&m&&m.match(new RegExp("stylesheet","i"))&&e(g)){s.push(g);r[g]=v}}for(var f=0;f<s.length;f++){var y=s[f];a.getHead(y,function(e,n){t[e]=n})}var b=document.getElementsByTagName("head")[0],w=document.createElement("style"),E="transition: all .3s ease-out;";css=[".livejs-loading * { ",E," -webkit-",E,"-moz-",E,"-o-",E,"}"].join("");w.setAttribute("type","text/css");b.appendChild(w);w.styleSheet?w.styleSheet.cssText=css:w.appendChild(document.createTextNode(css));o=true},checkForChanges:function(){for(var e in t){if(n[e])continue;a.getHead(e,function(e,n){var r=t[e],i=false;t[e]=n;for(var s in r){var o=r[s],u=n[s],f=n["Content-Type"];switch(s.toLowerCase()){case"etag":if(!u)break;default:i=o!=u;break}if(i){a.refreshResource(e,f);break}}})}},refreshResource:function(e,t){document.location.reload()},removeoldLinkElements:function(){var e=0;for(var t in i){try{var n=r[t],s=i[t],o=document.body.parentNode,u=n.sheet||n.styleSheet,f=u.rules||u.cssRules;if(f.length>=0){s.parentNode.removeChild(s);delete i[t];setTimeout(function(){o.className=o.className.replace(/\s*livejs\-loading/gi,"")},100)}}catch(l){e++}if(e)setTimeout(a.removeoldLinkElements,50)}},getHead:function(t,r){n[t]=true;var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XmlHttp");i.open("HEAD",t,true);i.onreadystatechange=function(){delete n[t];if(i.readyState==4&&i.status!=304){i.getAllResponseHeaders();var s={};for(var o in e){var u=i.getResponseHeader(o);if(o.toLowerCase()=="etag"&&u)u=u.replace(/^W\//,"");if(o.toLowerCase()=="content-type"&&u)u=u.replace(/^(.*?);.*?$/i,"$1");s[o]=u}r(t,s)}};i.send()}};if(document.location.protocol!="file:"){if(!window.liveJsLoaded)a.heartbeat();window.liveJsLoaded=true}else if(window.console)console.log("Live.js doesn't support the file protocol. It needs http.")})